{"ast":null,"code":"const axios = require('axios');\n\nconst cio = require('cheerio-without-node-native');\n/**\n * @param {string} url - Genius URL\n */\n\n\nmodule.exports = async function (url) {\n  try {\n    let {\n      data\n    } = await axios.get(url);\n    const $ = cio.load(data);\n    let lyrics = $('div[class=\"lyrics\"]').text().trim();\n\n    if (!lyrics) {\n      lyrics = '';\n      $('div[class^=\"Lyrics__Container\"]').each((i, elem) => {\n        if ($(elem).text().length !== 0) {\n          let snippet = $(elem).html().replace(/<br>/g, '\\n').replace(/<(?!\\s*br\\s*\\/?)[^>]+>/gi, '');\n          lyrics += $('<textarea/>').html(snippet).text().trim() + '\\n\\n';\n        }\n      });\n    }\n\n    if (!lyrics) return null;\n    return lyrics.trim();\n  } catch (e) {\n    throw e;\n  }\n};","map":{"version":3,"sources":["C:/Users/נוי בנג'ו/Documents/ראיונות עבודה/coognitive/coognitive-lyrics-app/node_modules/genius-lyrics-api/lib/utils/extractLyrics.js"],"names":["axios","require","cio","module","exports","url","data","get","$","load","lyrics","text","trim","each","i","elem","length","snippet","html","replace","e"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,6BAAD,CAAnB;AAEA;AACA;AACA;;;AACAE,MAAM,CAACC,OAAP,GAAiB,gBAAgBC,GAAhB,EAAqB;AACrC,MAAI;AACH,QAAI;AAAEC,MAAAA;AAAF,QAAW,MAAMN,KAAK,CAACO,GAAN,CAAUF,GAAV,CAArB;AACA,UAAMG,CAAC,GAAGN,GAAG,CAACO,IAAJ,CAASH,IAAT,CAAV;AACA,QAAII,MAAM,GAAGF,CAAC,CAAC,qBAAD,CAAD,CAAyBG,IAAzB,GAAgCC,IAAhC,EAAb;;AACA,QAAI,CAACF,MAAL,EAAa;AACZA,MAAAA,MAAM,GAAG,EAAT;AACAF,MAAAA,CAAC,CAAC,iCAAD,CAAD,CAAqCK,IAArC,CAA0C,CAACC,CAAD,EAAIC,IAAJ,KAAa;AACtD,YAAGP,CAAC,CAACO,IAAD,CAAD,CAAQJ,IAAR,GAAeK,MAAf,KAA0B,CAA7B,EAAgC;AAC/B,cAAIC,OAAO,GAAGT,CAAC,CAACO,IAAD,CAAD,CAAQG,IAAR,GACbC,OADa,CACL,OADK,EACI,IADJ,EAEbA,OAFa,CAEL,0BAFK,EAEuB,EAFvB,CAAd;AAGAT,UAAAA,MAAM,IAAIF,CAAC,CAAC,aAAD,CAAD,CAAiBU,IAAjB,CAAsBD,OAAtB,EAA+BN,IAA/B,GAAsCC,IAAtC,KAA+C,MAAzD;AACA;AACC,OAPH;AAQA;;AACD,QAAI,CAACF,MAAL,EAAa,OAAO,IAAP;AACb,WAAOA,MAAM,CAACE,IAAP,EAAP;AACA,GAjBD,CAiBE,OAAOQ,CAAP,EAAU;AACX,UAAMA,CAAN;AACA;AACD,CArBD","sourcesContent":["const axios = require('axios');\nconst cio = require('cheerio-without-node-native');\n\n/**\n * @param {string} url - Genius URL\n */\nmodule.exports = async function (url) {\n\ttry {\n\t\tlet { data } = await axios.get(url);\n\t\tconst $ = cio.load(data);\n\t\tlet lyrics = $('div[class=\"lyrics\"]').text().trim();\n\t\tif (!lyrics) {\n\t\t\tlyrics = ''\n\t\t\t$('div[class^=\"Lyrics__Container\"]').each((i, elem) => {\n\t\t\t\tif($(elem).text().length !== 0) {\n\t\t\t\t\tlet snippet = $(elem).html()\n\t\t\t\t\t.replace(/<br>/g, '\\n')\n\t\t\t\t\t.replace(/<(?!\\s*br\\s*\\/?)[^>]+>/gi, '');\n\t\t\t\t\tlyrics += $('<textarea/>').html(snippet).text().trim() + '\\n\\n';\n\t\t\t\t}\n    \t})\n\t\t}\n\t\tif (!lyrics) return null;\n\t\treturn lyrics.trim();\n\t} catch (e) {\n\t\tthrow e;\n\t}\n};\n"]},"metadata":{},"sourceType":"script"}