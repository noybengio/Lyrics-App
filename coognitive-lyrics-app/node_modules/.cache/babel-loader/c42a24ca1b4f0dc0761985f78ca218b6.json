{"ast":null,"code":"const axios = require('axios');\n\nconst extractLyrics = require('./utils/extractLyrics');\n\nconst url = 'http://api.genius.com/songs/';\n/**\r\n * @param {(number|string)} id\r\n * @param {string} apiKey\r\n */\n\nmodule.exports = async function (id, apiKey) {\n  if (!id) throw 'No id was provided';\n\n  try {\n    const headers = {\n      Authorization: 'Bearer ' + apiKey\n    };\n    let {\n      data: {\n        response: {\n          song\n        }\n      }\n    } = await axios.get(url + id, {\n      headers\n    });\n    let lyrics = await extractLyrics(song.url);\n    return {\n      id: song.id,\n      url: song.url,\n      lyrics,\n      albumArt: song.song_art_image_url\n    };\n  } catch (e) {\n    throw e;\n  }\n};","map":{"version":3,"sources":["C:/Users/נוי בנג'ו/Documents/ראיונות עבודה/coognitive/coognitive-lyrics-app/node_modules/genius-lyrics-api/lib/getSongById.js"],"names":["axios","require","extractLyrics","url","module","exports","id","apiKey","headers","Authorization","data","response","song","get","lyrics","albumArt","song_art_image_url","e"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,uBAAD,CAA7B;;AAEA,MAAME,GAAG,GAAG,8BAAZ;AACA;AACA;AACA;AACA;;AACAC,MAAM,CAACC,OAAP,GAAiB,gBAAgBC,EAAhB,EAAoBC,MAApB,EAA4B;AAC5C,MAAI,CAACD,EAAL,EAAS,MAAM,oBAAN;;AACT,MAAI;AACH,UAAME,OAAO,GAAG;AACfC,MAAAA,aAAa,EAAE,YAAYF;AADZ,KAAhB;AAGA,QAAI;AACHG,MAAAA,IAAI,EAAE;AACLC,QAAAA,QAAQ,EAAE;AAAEC,UAAAA;AAAF;AADL;AADH,QAIA,MAAMZ,KAAK,CAACa,GAAN,CAAUV,GAAG,GAAGG,EAAhB,EAAoB;AAAEE,MAAAA;AAAF,KAApB,CAJV;AAKA,QAAIM,MAAM,GAAG,MAAMZ,aAAa,CAACU,IAAI,CAACT,GAAN,CAAhC;AACA,WAAO;AACNG,MAAAA,EAAE,EAAEM,IAAI,CAACN,EADH;AAENH,MAAAA,GAAG,EAAES,IAAI,CAACT,GAFJ;AAGNW,MAAAA,MAHM;AAINC,MAAAA,QAAQ,EAAEH,IAAI,CAACI;AAJT,KAAP;AAMA,GAhBD,CAgBE,OAAOC,CAAP,EAAU;AACX,UAAMA,CAAN;AACA;AACD,CArBD","sourcesContent":["const axios = require('axios');\r\nconst extractLyrics = require('./utils/extractLyrics');\r\n\r\nconst url = 'http://api.genius.com/songs/';\r\n/**\r\n * @param {(number|string)} id\r\n * @param {string} apiKey\r\n */\r\nmodule.exports = async function (id, apiKey) {\r\n\tif (!id) throw 'No id was provided';\r\n\ttry {\r\n\t\tconst headers = {\r\n\t\t\tAuthorization: 'Bearer ' + apiKey\r\n\t\t};\r\n\t\tlet {\r\n\t\t\tdata: {\r\n\t\t\t\tresponse: { song }\r\n\t\t\t}\r\n\t\t} = await axios.get(url + id, { headers });\r\n\t\tlet lyrics = await extractLyrics(song.url);\r\n\t\treturn {\r\n\t\t\tid: song.id,\r\n\t\t\turl: song.url,\r\n\t\t\tlyrics,\r\n\t\t\talbumArt: song.song_art_image_url\r\n\t\t};\r\n\t} catch (e) {\r\n\t\tthrow e;\r\n\t}\r\n};\r\n"]},"metadata":{},"sourceType":"script"}